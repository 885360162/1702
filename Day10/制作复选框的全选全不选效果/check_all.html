<!DOCTYPE html >

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>全选效果</title>
    <style type="text/css">
        .bg {
            background-image: url(images/list_bg.gif);
            background-repeat: no-repeat;
            width: 730px;
        }
        
        td {
            text-align: center;
            font-size: 13px;
            line-height: 25px;
        }
        
        body {
            margin: 0
        }
    </style>

</head>

<body>
<table border="0" cellspacing="0" cellpadding="0" class="bg">
    <tr>
        <td style="height:40px;">&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr style="font-weight:bold;">
        <td><input id="all" type="checkbox" value="全选"/>全选</td>
        <td>商品图片</td>
        <td>商品名称/出售者/联系方式</td>
        <td>价格</td>
    </tr>
    <tr>
        <td colspan="4">
            <hr style="border:1px  #CCCCCC dashed"/>
        </td>
    </tr>
    
    <tr>
        <td><input name="product" type="checkbox" value="1"/></td>
        <td><img src="images/list0.jpg" alt="alt"/></td>
        <td>杜比环绕，家庭影院必备，超真实享受<br/> 出售者：ling112233
            <br/>
            <img src="images/online_pic.gif" alt="alt"/> &nbsp;&nbsp;
            <img src="images/list_tool_fav1.gif" alt="alt"/> 收藏
        </td>
        <td>一口价<br/> 2833.0</td>
    </tr>
    <tr>
        <td colspan="4">
            <hr style="border:1px  #CCCCCC dashed"/>
        </td>
    </tr>
    <tr>
        <td><input name="product" type="checkbox" value="2"/></td>
        <td><img src="images/list1.jpg" alt="alt"/></td>
        <td>NVDIA 9999GT 512MB 256bit极品显卡，不容错过<br/> 出售者：aipiaopiao110 <br/>
            <img src="images/online_pic.gif" alt="alt"/> &nbsp;&nbsp;
            <img src="images/list_tool_fav1.gif" alt="alt"/> 收藏
        </td>
        <td>一口价<br/> 6464.0</td>
    </tr>
    <tr>
        <td colspan="4">
            <hr style="border:1px  #CCCCCC dashed"/>
        </td>
    </tr>
    <tr>
        <td><input name="product" type="checkbox" value="3"/></td>
        <td><img src="images/list2.jpg" alt="alt"/></td>
        <td>精品热卖：高清晰，30寸等离子电视<br/> 出售者：阳光的挣扎 <br/>
            <img src="images/online_pic.gif" alt="alt"/> &nbsp;&nbsp;
            <img src="images/list_tool_fav1.gif" alt="alt"/> 收藏
        </td>
        <td>一口价<br/> 18888.0</td>
    </tr>
    <tr>
        <td colspan="4">
            <hr style="border:1px  #CCCCCC dashed"/>
        </td>
    </tr>
    <tr>
        <td><input name="product" type="checkbox" value="4"/></td>
        <td><img src="images/list3.jpg" alt="alt"/></td>
        <td>Sony索尼家用最新款笔记本 <br/> 出售者：疯狂的镜无
            <br/>
            <img src="images/online_pic.gif" alt="alt"/> &nbsp;&nbsp;
            <img src="images/list_tool_fav1.gif" alt="alt"/> 收藏
        </td>
        <td>一口价<br/> 5889.0</td>
    </tr>
    <tr>
        <td colspan="4">
            <hr style="border:1px  #CCCCCC dashed"/>
        </td>
    </tr>
</table>
<input type="checkbox" id="revers">反选
<script>
    var count = 0;  //记录产品被选中的个数
    var all = document.getElementById("all");
    var ps = document.getElementsByName("product");
    all.onclick = function (){
        var checked = all.checked;
        if(checked){  //如果全新按钮是选中，则count 就是产品的数量
            count = ps.length;
        }else{  //否则就是0
            count = 0;
        }
        for(var i = 0; i < ps.length; i++){
            ps[i].checked = checked;
        }
    }
    
    for(let i = 0; i < ps.length; i++){
        ps[i].onclick = function (){
            //当点击每个产品的时候，判断产品是否被选中，
            if(ps[i].checked){  //如果被选中个，则count++
                count++;
            }else{  //否则count--
                count--;
            }
            //判断count的值是否与产品的数量相等
            if(count == ps.length){ //如果相等，代表所有产品全部选中。
                all.checked = true;
            }else{
                all.checked = false;
            }
        }
    }
    
    
    
    
    
    /*for(let i = 0; i < ps.length; i++){
        ps[i].onclick = function (){
            if(!ps[i].checked){
                //单个产品不被选中
                all.checked = false;
            }else{
                var count = 0;
                //单个产品被选中
                for(let j = 0; j < ps.length; j++){
                    if(ps[j].checked){
                        count++;
                    }
                }
                if(count == ps.length){
                    all.checked = true;
                }
            }
        }
    }*/
</script>
</body>

</html>